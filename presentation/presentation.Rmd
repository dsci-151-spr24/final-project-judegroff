---
title: "How Does the World Listen to Music?"
subtitle: "A look into global listening trends."
author: "Jude Groff"
institute: "Houghton University"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader: 
    css: xaringan-themer.css
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r load-packages, include = FALSE}
# Add any additional packages you need to this chunk
library(tidyverse)
library(tidymodels)
library(palmerpenguins)
library(knitr)
library(xaringan)
library(xaringanthemer)
library(kableExtra)
```

```{r setup, include=FALSE}
# For better figure resolution
knitr::opts_chunk$set(fig.retina = 3, dpi = 300, fig.width = 6, fig.asp = 0.618, out.width = "80%")

knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(error = FALSE)
knitr::opts_chunk$set(echo = FALSE)
```


```{r load-data, include=FALSE}
GMSLP <- read.csv(file = "../data/Global_Music_Streaming_Listener_Preferences.csv")
```

```{r}
platform_percentage_per_country <- GMSLP %>%
  group_by(Country, Streaming.Platform) %>%
  summarise(Count = n()) %>%
  mutate(Percentage = Count / sum(Count) * 100) %>%
  ungroup()
```

```{r, include=FALSE}
style_xaringan(
  title_slide_background_image = "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
)
```


class: center, middle

##People love listening to music, but what are trends globally? We may know artists that are popular in the US, but what about in India? The UK? Australia? This project will be using synthetic data generated to represent what trends look like on a global scale.

---

class: center, middle

##We will be exploring the relations between streaming platforms and countries, countries and music.

---

class: center, middle
```{r}
GMSLP %>%
  group_by(Streaming.Platform) %>%
  summarise(Count = n()) %>%
  mutate(Percentage = Count / sum(Count) * 100) %>%
  ungroup() %>%
  kable() %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = F)
```


**Amazon music is the most used with the highest percentage of 17.22%**
---

class: center, middle

##But how does this hold up in different countries?

```{r}
ggplot(platform_percentage_per_country, aes(x = Country, y = Percentage, fill = Streaming.Platform)) +
  geom_bar(stat = "identity", position = "dodge") +
  labs(title = "Percentage of Streaming Platforms per Country",
       x = "Country",
       y = "Percentage") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1)) +
  coord_cartesian(ylim = c(0, 22))  
```
---
